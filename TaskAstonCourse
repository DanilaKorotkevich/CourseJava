<dependencies>
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter-engine</artifactId>
            <version>5.13.0</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>RELEASE</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.testng</groupId>
            <artifactId>testng</artifactId>
            <version>7.7.0</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
            <version>2.2.224</version>
        </dependency>
        <dependency>
            <groupId>org.seleniumhq.selenium</groupId>
            <artifactId>selenium-java</artifactId>
            <version>4.15.0</version>
        </dependency>
        <dependency>
            <groupId>io.github.bonigarcia</groupId>
            <artifactId>webdrivermanager</artifactId>
            <version>5.6.0</version>
        </dependency>
    </dependencies>


import io.github.bonigarcia.wdm.WebDriverManager;
import org.openqa.selenium.By;
import org.openqa.selenium.TimeoutException;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.junit.jupiter.api.*;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

import java.time.Duration;
import java.util.List;
import java.util.NoSuchElementException;

import static org.junit.jupiter.api.Assertions.*;
import static org.openqa.selenium.support.ui.ExpectedConditions.titleIs;

public class FirstTest {

    WebDriver driver;
    WebDriverWait wait;

    public static void main(String[] args) {
        WebDriverManager.chromedriver().driverVersion("119.0.6045.105").setup();
        WebDriver driver = new ChromeDriver();
        try {
            driver.get("https://www.google.com");
            System.out.println("Page title: " + driver.getTitle());
            Thread.sleep(2000);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            driver.quit();
        }
    }

    @BeforeEach
    void stup() {
        java.util.logging.Logger.getLogger("io.github.bonigarcia").setLevel(java.util.logging.Level.OFF);
        WebDriverManager.chromedriver().setup();
        driver = new ChromeDriver();
        wait = new WebDriverWait(driver, Duration.ofSeconds(10));
    }

    @Test
    void testGoogleTitle() {
        driver.get("https://www.mts.by");
        wait.until(titleIs("МТС – мобильный оператор в Беларуси"));
    }

    @Test
    void testBlockName() {
        driver.get("https://www.mts.by");
        WebElement block = driver.findElement(By.className("pay__wrapper"));

        WebElement title = block.findElement(By.tagName("h2"));

        String actualTitle = title.getText();
        String expectedText = "Онлайн пополнение без комиссии";
        assertEquals(expectedText, actualTitle);
    }

    @Test
    void testLogoExist() {
        driver.get("https://www.mts.by");
        WebElement block = driver.findElement(By.className("pay__partners"));
        WebElement logosList = block.findElement(By.tagName("ul"));

        List<WebElement> logosItems = logosList.findElements(By.tagName("li"));
        assertEquals(5, logosItems.size());

        for (int i = 0; i < logosItems.size(); i++) {
            WebElement li = logosItems.get(i);

            WebElement img = li.findElement(By.tagName("img"));
            assertNotNull(img);

            String src = img.getAttribute("src");
            assertTrue(src != null && !src.isEmpty());
        }
    }

    @Test
    void testServiceLink() {
        driver.get("https://www.mts.by");
        WebElement block = driver.findElement(By.className("pay__wrapper"));
        WebElement link = block.findElement(By.tagName("a"));

        String startUrl = driver.getCurrentUrl();

        String text = link.getText();
        String href = link.getAttribute("href");

        assertTrue(href != null && !href.isEmpty());

        link.click();

        wait.until(ExpectedConditions.not(ExpectedConditions.urlToBe(startUrl)));

        String newUrl = driver.getCurrentUrl();
        assertTrue(!newUrl.equals(startUrl));
        assertTrue(newUrl.contains("https://www.mts.by/help/poryadok-oplaty-i-bezopasnost-internet-platezhey"));
    }

    @Test
    void testContinueButton() {
        driver.get("https://www.mts.by");
        WebElement phoneField = driver.findElement(By.className("phone"));
        phoneField.click();
        phoneField.sendKeys("297777777");

        WebElement totalRubField = driver.findElement(By.className("total_rub"));
        totalRubField.click();
        totalRubField.sendKeys("50");

        WebElement button = driver.findElement(By.className("button button__default "));
        button.click();

        assertTrue(isCardFormDisplayed());
    }

    private boolean isCardFormDisplayed() {
        try {
            wait.until(ExpectedConditions.visibilityOfElementLocated(By.className("ng-tns-c1057872785-0")));

            WebElement cardField = driver.findElement(By.className("content ng-tns-c2312288139-3"));
            return cardField.isDisplayed();
        } catch (TimeoutException | NoSuchElementException e) {
            return false;
        }
    }

    @AfterEach
    void teardown() {
        driver.quit();
    }
}
